# Решения для хранения изображений в продакшене

## Проблема

Если сайт развёрнут на Vercel/Netlify (или другом serverless хостинге):
- **Файловая система временная** (ephemeral)
- Фото, загруженные через админку, сохраняются на сервере
- После перезапуска/deploy файлы **исчезают**
- Локально на вашем компьютере они **не появляются**

## Решения

### ✅ Вариант 1: Cloudinary (Рекомендуется)

**Плюсы:**
- Бесплатный тариф (25GB)
- Автоматическая оптимизация изображений
- CDN для быстрой загрузки
- Файлы хранятся в облаке

**Минусы:**
- Нужен аккаунт на Cloudinary
- Фото хранятся не локально

**Реализация:** См. файл `src/app/api/admin/upload-image-cloudinary/route.ts`

---

### ✅ Вариант 2: AWS S3 / DigitalOcean Spaces

**Плюсы:**
- Полный контроль
- Дешёвое хранилище
- Можно настроить синхронизацию

**Минусы:**
- Нужна настройка
- Требуются ключи доступа

---

### ✅ Вариант 3: Git + автоматический коммит

**Как работает:**
1. Фото загружаются на сервер
2. API автоматически коммитит их в Git
3. Git push отправляет в репозиторий
4. Вы делаете `git pull` локально

**Плюсы:**
- Фото всегда в репозитории
- Полный контроль версий
- Синхронизация через Git

**Минусы:**
- Репозиторий может стать большим
- Нужно настроить Git на сервере
- Медленнее для больших файлов

**Реализация:** См. файл `src/app/api/admin/upload-image-git/route.ts`

---

### ✅ Вариант 4: Локальная загрузка + Git push

**Как работает:**
1. Загружаете фото локально через админку (dev режим)
2. Коммитите в Git
3. Push в репозиторий
4. На продакшене фото уже есть

**Плюсы:**
- Просто
- Фото в репозитории

**Минусы:**
- Нельзя загружать фото онлайн
- Только локально

---

## Рекомендация

Для вашего случая лучше всего подходит **Cloudinary**:
- Можно загружать фото онлайн
- Не нужно беспокоиться о файловой системе
- Автоматическая оптимизация
- Бесплатный тариф достаточен для блога

Если нужен полный контроль и фото в репозитории — используйте вариант с Git (автоматический коммит).



