# Настройка Email-рассылки через Resend

## Что это?

Resend - это современный сервис для отправки транзакционных email писем. Он простой в использовании и имеет щедрый бесплатный тариф (3000 писем/месяц).

## Пошаговая настройка

### Шаг 1: Регистрация в Resend

1. Перейдите на [resend.com](https://resend.com)
2. Зарегистрируйтесь (можно через GitHub)
3. Подтвердите email

### Шаг 2: Создание API ключа

1. В дашборде Resend перейдите в **API Keys**
2. Нажмите **Create API Key**
3. Дайте имя ключу (например: "Renohacks Newsletter")
4. Выберите права: **Sending access**
5. Скопируйте ключ (он показывается только один раз!)
   - Формат: `re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`

### Шаг 3: Добавление домена (опционально, но рекомендуется)

1. В дашборде Resend перейдите в **Domains**
2. Нажмите **Add Domain**
3. Введите ваш домен (например: `renohacks.com`)
4. Добавьте DNS записи, которые покажет Resend:
   - SPF запись
   - DKIM записи
   - DMARC (опционально)
5. Подождите проверки (обычно несколько минут)

### Шаг 4: Настройка переменных окружения

#### Для локальной разработки (`.env.local`):

```env
# Resend API Key
RESEND_API_KEY=re_ваш-ключ-из-шага-2

# Email отправителя (можно использовать onboarding@resend.dev для теста)
# Для продакшена используйте ваш домен: noreply@renohacks.com
RESEND_FROM_EMAIL=onboarding@resend.dev
```

#### Для Vercel (Production):

1. Откройте ваш проект на [Vercel](https://vercel.com)
2. Перейдите в **Settings** → **Environment Variables**
3. Добавьте переменные:
   - `RESEND_API_KEY` = `re_ваш-ключ`
   - `RESEND_FROM_EMAIL` = `noreply@renohacks.com` (или ваш домен)

### Шаг 5: Перезапуск

После добавления переменных окружения:
- **Локально**: Перезапустите dev сервер (`npm run dev`)
- **Vercel**: Перезапустите деплой (Settings → Deployments → Redeploy)

## Проверка работы

1. Откройте сайт
2. Подпишитесь на рассылку (введите email)
3. Проверьте почту - должно прийти письмо подтверждения

## Альтернативные сервисы

Если Resend не подходит, можно использовать:

### Mailchimp
- Бесплатно до 2000 подписчиков
- Более сложная настройка
- Нужно обновить код в `src/app/api/subscribe/route.ts`

### SendGrid
- Бесплатно 100 писем/день
- Хорошая документация
- Нужно обновить код

### ConvertKit
- Бесплатно до 1000 подписчиков
- Отлично для блогов
- Нужно обновить код

## Безопасность

⚠️ **Важно**:
- Никогда не коммитьте `RESEND_API_KEY` в код
- Ключ должен быть только в Environment Variables
- Если ключ скомпрометирован, немедленно удалите его в Resend и создайте новый

## Отключение отправки писем

Если хотите временно отключить отправку писем (но сохранять подписки):
- Просто не добавляйте `RESEND_API_KEY` в переменные окружения
- Подписки будут сохраняться, но письма не будут отправляться

